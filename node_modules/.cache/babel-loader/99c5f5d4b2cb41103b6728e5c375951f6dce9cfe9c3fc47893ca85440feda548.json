{"ast":null,"code":"import _objectSpread from\"F:/MERN-STACK/LifeConnect/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Link,useNavigate}from\"react-router-dom\";import Box from\"@mui/material/Box\";import TextField from\"@mui/material/TextField\";import Button from\"@mui/material/Button\";import React,{useState}from\"react\";import{handleError,handleSuccess}from\"../utils\";import{ToastContainer}from\"react-toastify\";import\"./Signup.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_LINK=process.env.REACT_APP_BACKEND_LINK||\"http://localhost:8080\";export default function Login(){const navigate=useNavigate();const[loginInfo,setLoginInfo]=useState({email:\"\",password:\"\"});const handleChange=e=>{const{name,value}=e.target;setLoginInfo(_objectSpread(_objectSpread({},loginInfo),{},{[name]:value}));};const handleLogin=async e=>{e.preventDefault();const{email,password}=loginInfo;if(!email||!password){return handleError(\"Please enter all the values\");}try{const uri=\"\".concat(BACKEND_LINK,\"/login\");const response=await fetch(uri,{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(loginInfo)});const result=await response.json();const{success,message,token}=result;if(success&&token){// ✅ Save token for authentication\nlocalStorage.setItem(\"token\",token);handleSuccess(\"Logged in Successfully\");// ✅ Redirect to Cards page\nnavigate(\"/cards\");}else{handleError(message||\"Login failed\");}}catch(err){handleError(\"Error while logging in\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col d-flex justify-content-center mt-5 p-3\",children:/*#__PURE__*/_jsxs(Box,{sx:{width:{xs:\"100%\",sm:400},display:\"flex\",flexDirection:\"column\",padding:3,boxShadow:\"0px 0px 12px rgba(0,0,0,0.2)\",borderRadius:2},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mb-3\",children:\"Welcome Back\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,style:{display:\"flex\",flexDirection:\"column\",gap:\"18px\"},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",name:\"email\",value:loginInfo.email,onChange:handleChange}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:\"password\",name:\"password\",value:loginInfo.password,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",fullWidth:true,sx:{mt:1,backgroundColor:\"#cf2b2b\",\"&:hover\":{backgroundColor:\"#b12222\"}},children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-2\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",style:{color:\"#cf2b2b\",textDecoration:\"none\"},children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]})})})});}","map":{"version":3,"names":["Link","useNavigate","Box","TextField","Button","React","useState","handleError","handleSuccess","ToastContainer","jsx","_jsx","jsxs","_jsxs","BACKEND_LINK","process","env","REACT_APP_BACKEND_LINK","Login","navigate","loginInfo","setLoginInfo","email","password","handleChange","e","name","value","target","_objectSpread","handleLogin","preventDefault","uri","concat","response","fetch","method","headers","body","JSON","stringify","result","json","success","message","token","localStorage","setItem","err","className","children","sx","width","xs","sm","display","flexDirection","padding","boxShadow","borderRadius","onSubmit","style","gap","fullWidth","label","onChange","type","variant","mt","backgroundColor","to","color","textDecoration"],"sources":["F:/MERN-STACK/LifeConnect/frontend/src/Landing_pages/Register/Login.js"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport React, { useState } from \"react\";\r\nimport { handleError, handleSuccess } from \"../utils\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"./Signup.css\";\r\nconst BACKEND_LINK =\r\n  process.env.REACT_APP_BACKEND_LINK || \"http://localhost:8080\";\r\n\r\nexport default function Login() {\r\n  const navigate = useNavigate();\r\n\r\n  const [loginInfo, setLoginInfo] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setLoginInfo({ ...loginInfo, [name]: value });\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const { email, password } = loginInfo;\r\n\r\n    if (!email || !password) {\r\n      return handleError(\"Please enter all the values\");\r\n    }\r\n\r\n    try {\r\n      const uri = `${BACKEND_LINK}/login`;\r\n      const response = await fetch(uri, {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(loginInfo),\r\n      });\r\n\r\n      const result = await response.json();\r\n      const { success, message, token } = result;\r\n\r\n      if (success && token) {\r\n        // ✅ Save token for authentication\r\n        localStorage.setItem(\"token\", token);\r\n\r\n        handleSuccess(\"Logged in Successfully\");\r\n\r\n        // ✅ Redirect to Cards page\r\n        navigate(\"/cards\");\r\n      } else {\r\n        handleError(message || \"Login failed\");\r\n      }\r\n    } catch (err) {\r\n      handleError(\"Error while logging in\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5\">\r\n      <div className=\"row mt-5\">\r\n        <div className=\"col d-flex justify-content-center mt-5 p-3\">\r\n          <Box\r\n            sx={{\r\n              width: { xs: \"100%\", sm: 400 },\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              padding: 3,\r\n              boxShadow: \"0px 0px 12px rgba(0,0,0,0.2)\",\r\n              borderRadius: 2,\r\n            }}\r\n          >\r\n            <h3 className=\"text-center mb-3\">Welcome Back</h3>\r\n\r\n            <form\r\n              onSubmit={handleLogin}\r\n              style={{ display: \"flex\", flexDirection: \"column\", gap: \"18px\" }}\r\n            >\r\n              <TextField\r\n                fullWidth\r\n                label=\"Email\"\r\n                name=\"email\"\r\n                value={loginInfo.email}\r\n                onChange={handleChange}\r\n              />\r\n\r\n              <TextField\r\n                fullWidth\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={loginInfo.password}\r\n                onChange={handleChange}\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                sx={{\r\n                  mt: 1,\r\n                  backgroundColor: \"#cf2b2b\",\r\n                  \"&:hover\": { backgroundColor: \"#b12222\" },\r\n                }}\r\n              >\r\n                Login\r\n              </Button>\r\n\r\n              <p className=\"text-center mt-2\">\r\n                Don't have an account?{\" \"}\r\n                <Link to=\"/signup\" style={{ color: \"#cf2b2b\", textDecoration: \"none\" }}>\r\n                  Sign Up\r\n                </Link>\r\n              </p>\r\n            </form>\r\n\r\n            <ToastContainer />\r\n          </Box>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}